# Лабиринт

## Information

Лабиринт с «тонкими стенками» представляет собой таблицу размером _n_ строк на _m_ столбцов. 
Между ячейками таблицы могут находиться «стены». Также «стенами» окружена вся таблица в целом. 

Решением лабиринта считается кратчайший путь от заданной начальной точки (ячейки таблицы) до конечной. 
При прохождении лабиринта можно передвигаться к соседним ячейкам, не отделенным «стеной» от текущей ячейки и находящимся сверху, снизу, справа или слева. 
Кратчайшим маршрут считается, если он проходит через наименьшее число ячеек.

## Описание лабиринта

Лабиринт может храниться в файле в виде количества строк и столбцов, а также двух матриц, содержащих положение вертикальных и горизонтальных стен соответственно. 
В первой матрице отображается наличие стены справа от каждой ячейки, а во второй — снизу. 

Пример подобного файла:  
```
4 4
0 0 0 1
1 0 1 1
0 1 0 1
0 0 0 1

1 0 1 0
0 0 1 0
1 1 0 1
1 1 1 1
```

## Недостатки лабиринтов

К недостаткам лабиринтов относятся изолированные области и петли.

Изолированная область — это часть лабиринта с проходами, в которые нельзя попасть из оставшейся части лабиринта.

Петля — это часть лабиринта с проходами, по которым можно ходить «кругами». Стены в петлях не соединены со стенами, окружающими лабиринт.

## Генерация с использованием клеточного автомата

Во многих играх есть необходимость в ветвящихся локациях, например, пещерах. 
Такие локации могут быть созданы генерацией с использованием клеточного автомата. 
При подобной генерации используется идея, схожая с уже знакомой тебе игрой «Жизнь». 
Суть предложенного алгоритма состоит в реализации всего двух шагов: сначала все поле заполняется случайным образом стенами, — т.е. для каждой клетки случайным образом определяется, будет ли она свободной или непроходимой, — а затем несколько раз происходит обновление состояния карты в соответствии с условиями, похожими на условия рождения/смерти в «Жизни».

Правила проще, чем в «Жизни» — есть две специальные переменные, одна для «рождения» «мертвых» клеток (предел «рождения») и одна для уничтожения «живых» клеток (предел «смерти»). 
Если «живые» клетки окружены «живыми» клетками, количество которых меньше, чем предел «смерти», они «умирают». 
Аналогично если «мертвые» клетки находятся рядом с «живыми», количество которых больше, чем предел «рождения», они становятся «живыми».

## Описание пещер

Пещера, прошедшая 0 шагов симуляции (только инициализированная), может храниться в файле в виде количества строк и столбцов, а также в виде матрицы, содержащей положение «живых» и «мертвых» клеток.

Пример подобного файла:
```
4 4
0 1 0 1
1 0 0 1
0 1 0 0
0 0 1 1
```

## Реализация проекта

- Программа разработана на языке C++ стандарта C++17.
- Сборка программы настроена с помощью Makefile со стандартным набором целей для GNU-программ: all, install, uninstall, clean, dvi, dist, tests. Установка ведется в любой другой произвольный каталог.
- В программе должен быть реализован графический пользовательский интерфейс на базе любой GUI-библиотеки с API для C++ (Qt, SFML, GTK+, Nanogui, Nngui, etc.).
- В программе предусмотрена кнопка для загрузки лабиринта из файла, который задается в формате, описанном выше.
- Максимальный размер лабиринта — 50х50.
- Загруженный лабиринт должен быть отрисован на экране в поле размером 500x500 пикселей.
- Толщина «стены» — 2 пикселя.
- Размер самих ячеек лабиринта вычисляется таким образом, чтобы лабиринт занимал всё отведенное под него поле.

## Генерация идеального лабиринта

Реализована возможность автоматической генерации идеального лабиринта. 
Идеальным считается лабиринт, в котором из каждой точки можно попасть в любую другую точку ровно одним способом.

- Генерируется лабиринт согласно **алгоритму Эллера**.
- Сгенерированный лабиринт не имееет изолированных областей и петель.
- Пользователем вводится только размерность лабиринта: количество строк и столбцов.
- Сгенерированный лабиринт сохраняется в файл в формате, описанном выше.

## Решение лабиринта

Реализована возможность показать решение _любого_ лабиринта, который сейчас изображен на экране:
- Пользователем задаются начальная и конечная точки.
- Маршрут, отображается линией, проходящей через середины всех ячеек лабиринта, через которые пролегает решение.

## Генерация пещер

Реализована генерацию пещер с использованием клеточного автомата:
- Пользователем выбирается файл, в котором описана пещера по данному выше формату.
- Для отображения пещер используется отдельное окно или вкладку пользовательского интерфейса.
- Максимальный размер пещеры — 50х50.
- Загруженная пещера отрисовывается на экране в поле размером 500x500 пикселей.
- Пользователем задаются пределы «рождения» и «смерти» клетки, а также шанс на начальную инициализацию клетки.
- Пределы «рождения» и «смерти» могут иметь значения от 0 до 7.
- Клетки за границей пещеры считаются живыми.
- Предусмотрен пошаговый режим отрисовки результатов работы алгоритма в двух вариантах:
  - При нажатии на кнопку следующего шага отрисовывается очередная итерация работы алгоритма;
  - При нажатии на кнопку автоматической работы запускается отрисовка итераций работы алгоритма с частотой 1 шаг в `N` миллисекунд, где число миллисекунд `N` задаётся через специальное поле в пользовательском интерфейсе.
- Размер клеток в пикселях вычисляется таким образом, чтобы пещера занимала всё отведенное под него поле.

